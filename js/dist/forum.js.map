{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@datlechin/flarum-tag-passwords/webpack/bootstrap","webpack://@datlechin/flarum-tag-passwords/webpack/runtime/compat get default export","webpack://@datlechin/flarum-tag-passwords/webpack/runtime/define property getters","webpack://@datlechin/flarum-tag-passwords/webpack/runtime/hasOwnProperty shorthand","webpack://@datlechin/flarum-tag-passwords/webpack/runtime/make namespace object","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['forum/app']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['tags/models/Tag']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/Model']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/models/Discussion']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/models/Post']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/extend']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['tags/components/TagLinkButton']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['tags/components/TagsPage']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['tags/common/helpers/tagIcon']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['tags/common/utils/sortTags']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/helpers/textContrastClass']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/components/Link']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/helpers/humanTime']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/utils/ItemList']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/utils/extract']\"","webpack://@datlechin/flarum-tag-passwords/./src/common/helpers/tagLabel.js","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/components/Button']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/components/Placeholder']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['forum/components/PostsUserPage']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://@datlechin/flarum-tag-passwords/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@datlechin/flarum-tag-passwords/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@datlechin/flarum-tag-passwords/./src/common/models/ProtectedTag.ts","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/components/Tooltip']\"","webpack://@datlechin/flarum-tag-passwords/./src/common/helpers/tagsLabel.js","webpack://@datlechin/flarum-tag-passwords/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://@datlechin/flarum-tag-passwords/./src/common/helpers/tooltipForPermission.js","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['forum/components/DiscussionList']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['forum/components/DiscussionListItem']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['utils/DiscussionControls']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@datlechin/flarum-tag-passwords/./src/forum/components/TagProtectedDiscussionListItem.js","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/Component']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@datlechin/flarum-tag-passwords/./src/forum/components/TagPasswordRequired.js","webpack://@datlechin/flarum-tag-passwords/./src/forum/components/TagGroupRequired.js","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['forum/components/DiscussionPage']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['forum/components/DiscussionHero']\"","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['common/helpers/listItems']\"","webpack://@datlechin/flarum-tag-passwords/./src/forum/components/TagProtectedDiscussionHero.js","webpack://@datlechin/flarum-tag-passwords/external root \"flarum.core.compat['forum/states/PostStreamState']\"","webpack://@datlechin/flarum-tag-passwords/./src/forum/index.js","webpack://@datlechin/flarum-tag-passwords/./src/forum/editDiscussionList.js","webpack://@datlechin/flarum-tag-passwords/./src/forum/editTagsPage.js","webpack://@datlechin/flarum-tag-passwords/./src/forum/editPostsUserPage.js","webpack://@datlechin/flarum-tag-passwords/./src/forum/editIndexPage.js","webpack://@datlechin/flarum-tag-passwords/./src/forum/editDiscussionPage.tsx"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/models/Tag'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Model'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Discussion'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/models/Post'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagLinkButton'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/icon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/components/TagsPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/common/helpers/tagIcon'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['tags/common/utils/sortTags'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/classList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/textContrastClass'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Link'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/humanTime'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/LoadingIndicator'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/ItemList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/extract'];","import extract from 'flarum/common/utils/extract';\nimport Link from 'flarum/common/components/Link';\nimport classList from 'flarum/common/utils/classList';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport tagIcon from 'flarum/tags/common/helpers/tagIcon';\nimport icon from 'flarum/common/helpers/icon';\n\nexport default function tagLabel(tag, attrs = {}, showProtectedDisplayed = true, isNonProtectedDisplayed = true) {\n  attrs.style = attrs.style || {};\n  attrs.className = 'TagLabel ' + (attrs.className || '');\n\n  const link = extract(attrs, 'link');\n  const tagText = tag ? tag.name() : app.translator.trans('flarum-tags.lib.deleted_tag_text');\n\n  if (tag) {\n    const color = tag.color();\n    if (color) {\n      attrs.style['--tag-bg'] = color;\n      attrs.className = classList(attrs.className, 'colored', textContrastClass(color));\n    }\n\n    if (link) {\n      attrs.title = tag.description() || '';\n      attrs.href = app.route('tag', { tags: tag.slug() });\n    }\n\n    if (tag.isChild()) {\n      attrs.className += ' TagLabel--child';\n    }\n  } else {\n    attrs.className += ' untagged';\n  }\n\n  let iconObject = null;\n  if (tag.isPasswordProtected() || tag.isGroupProtected()) {\n    if (tag.isUnlocked()) {\n      if (!isNonProtectedDisplayed) {\n        return <></>;\n      } else if (tag.isLockedIconDisplayed()) {\n        iconObject = icon('fas fa-unlock', { style: { fontSize: '13px', float: 'none' } });\n      }\n    } else if (showProtectedDisplayed) {\n      if (tag.isPasswordProtected()) {\n        iconObject = icon('fas fa-lock', { style: { fontSize: '13px', float: 'none' } });\n      } else {\n        iconObject = icon('fas fa-user-lock', { style: { fontSize: '13px', float: 'none' } });\n      }\n    } else {\n      return <></>;\n    }\n  } else if (!isNonProtectedDisplayed) {\n    return <></>;\n  }\n  return m(\n    link ? Link : 'span',\n    attrs,\n    <span className=\"TagLabel-text\">\n      {tag && tag.icon() && tagIcon(tag, { className: 'TagLabel-icon' }, { useColor: false })}\n      <span className=\"TagLabel-name\">\n        {tagText + (iconObject ? ' ' : '')}\n        {iconObject || null}\n      </span>\n    </span>\n  );\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Button'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Placeholder'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/PostsUserPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}","import Model from 'flarum/common/Model';\r\nimport Tag from 'flarum/tags/models/Tag';\r\n\r\nexport default class ProtectedTag extends Tag {\r\n  isLockedIconDisplayed() {\r\n    return Model.attribute<boolean>('is_locked_icon_displayed').call(this);\r\n  }\r\n  isPasswordProtected() {\r\n    return Model.attribute<boolean>('is_password_protected').call(this);\r\n  }\r\n  isGroupProtected() {\r\n    return Model.attribute<boolean>('is_group_protected').call(this);\r\n  }\r\n  isUnlocked() {\r\n    return Model.attribute<boolean>('is_unlocked').call(this);\r\n  }\r\n}","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/Tooltip'];","import tagLabel from './tagLabel';\nimport sortTags from 'flarum/tags/common/utils/sortTags';\nimport classList from 'flarum/common/utils/classList';\n\nexport default function tagsLabel(tags, attrs = {}, isProtectedDisplayed = true, isNonProtectedDisplayed = true) {\n  const children = [];\n  const { link, ...otherAttrs } = attrs;\n\n  otherAttrs.className = classList('TagsLabel', otherAttrs.className);\n\n  if (tags) {\n    sortTags(tags).forEach((tag) => {\n      if (tag || tags.length === 1) {\n        children.push(tagLabel(tag, { link }, isProtectedDisplayed, isNonProtectedDisplayed));\n      }\n    });\n  } else {\n    children.push(tagLabel());\n  }\n\n  return <span {...otherAttrs}>{children}</span>;\n}\n","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}","import Tooltip from 'flarum/common/components/Tooltip';\nimport tagsLabel from './tagsLabel';\nimport icon from 'flarum/common/helpers/icon';\n\nexport default function tooltipForPermission(discussion, title, tooltip, isPasswordProtected, isGroupProtected, tags = discussion.tags()) {\n\n  return <Tooltip text={tooltip} position=\"bottom\">\n    <div className=\"DiscussionListItem-main\">\n      <h2 className=\"DiscussionListItem-title\">\n        {isPasswordProtected ? icon('fas fa-lock'): <></>}\n        {isGroupProtected? icon('fas fa-user-lock'): <></>}\n        {' '+title}\n      </h2>\n      {tagsLabel(tags, {}, true, false)}\n      <ul class=\"DiscussionListItem-info\"><li class=\"item-tags\">\n        {tagsLabel(tags, {}, false)}\n      </li></ul>\n    </div>\n  </Tooltip>\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionList'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionListItem'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['utils/DiscussionControls'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/avatar'];","import app from 'flarum/forum/app';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\nimport classList from 'flarum/common/utils/classList';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport avatar from 'flarum/common/helpers/avatar';\nimport icon from 'flarum/common/helpers/icon';\nimport tooltipForPermission from '../../common/helpers/tooltipForPermission';\n\nexport default class TagProtectedDiscussionListItem extends DiscussionListItem {\n  view() {\n    const discussion = this.attrs.discussion;\n    const tags = discussion.tags();\n\n    const controls = DiscussionControls.controls(discussion, this).toArray();\n    const attrs = this.elementAttrs();\n    // Check whether admin wish to display protected discussion within the discussion list\n    if (discussion.isProtectedTagDisplayedForDiscussionList()) {\n      return (\n        <div {...attrs}>\n          {this.contentView()}\n        </div>\n      );\n    } else {\n      return (\n        <div></div>\n      );\n    }\n  }\n  processCloudView(cloud) {\n    return <div className=\"TagCloud\">{cloud.map((tag) => [tagLabel(tag, tag.isProtectedTagDisplayedForTagsPage(), { link: true }), ' '])}</div>;\n  }\n\n  contentView() {\n    const discussion = this.attrs.discussion;\n    const isUnread = discussion.isUnread();\n    const isRead = discussion.isRead();\n\n    return (\n      <div className={classList('DiscussionListItem-content', 'Slidable-content', { unread: isUnread, read: isRead })}>\n        {this.authorAvatarView()}\n        {this.badgesView()}\n        {this.mainView()}\n        {this.replyCountItem()}\n      </div>\n    );\n  }\n\n  mainView() {\n    const discussion = this.attrs.discussion;\n    const jumpTo = this.getJumpTo();\n\n    const isProtectedPasswordTags = discussion.protectedPasswordTags().length > 0;\n    const isProtectedGroupPermissionTags = discussion.protectedGroupPermissionTags().length > 0;\n    let title = app.translator.trans('datlechin-tag-passwords.forum.discussion_list.title.multiple');\n    let info = app.translator.trans('datlechin-tag-passwords.forum.discussion_list.info.multiple');\n    if (isProtectedPasswordTags && !isProtectedGroupPermissionTags) {\n      title = app.translator.trans('datlechin-tag-passwords.forum.discussion_list.title.password_protected');\n      info = app.translator.trans('datlechin-tag-passwords.forum.discussion_list.info.password_protected');\n    } else if (!isProtectedPasswordTags && isProtectedGroupPermissionTags) {\n      title = app.translator.trans('datlechin-tag-passwords.forum.discussion_list.title.group_protected');\n      info = app.translator.trans('datlechin-tag-passwords.forum.discussion_list.info.group_protected');\n    }\n    return <Link className=\"DiscussionListItem-main\" href=\"#\">\n      {tooltipForPermission(discussion, title, info, isProtectedPasswordTags, isProtectedGroupPermissionTags)}\n    </Link>\n  }\n\n  authorAvatarView() {\n    const discussion = this.attrs.discussion;\n    if (discussion.isProtectedTagDisplayedForDiscussionAvator()) {\n      const user = discussion.user();\n      return (\n        <Tooltip\n          text={app.translator.trans('core.forum.discussion_list.started_text', { user, ago: humanTime(discussion.createdAt()) })}\n          position=\"right\"\n        >\n          <Link className=\"DiscussionListItem-author\" href={user ? app.route.user(user) : '#'}>\n            {avatar(user || null, { title: '' })}\n          </Link>\n        </Tooltip>\n      );\n    } else {\n      return (\n        <Tooltip\n          text={app.translator.trans('core.forum.discussion_list.started_text', {ago: humanTime(discussion.createdAt()) })}\n          position=\"right\"\n        >\n          <Link className=\"DiscussionListItem-author\" href=\"#\">\n            <span class=\"Avatar\" loading=\"lazy\">\n            {icon('fas fa-question')}\n            </span>\n          </Link>\n        </Tooltip>\n      );\n    }\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/IndexPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/Component'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/utils/Stream'];","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport Stream from 'flarum/common/utils/Stream';\nimport Button from 'flarum/common/components/Button';\n\nexport default class TagPasswordRequired extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.password = Stream('');\n    this.loading = false;\n    this.invalid = false;\n\n    this.tag = this.attrs.currentTag;\n  }\n\n  view() {\n    return (\n      <div className=\"TagPasswordRequired\">\n        <form onsubmit={this.onsubmit.bind(this)}>\n          <div className=\"Form-group\">\n            <h3>{app.translator.trans('datlechin-tag-passwords.forum.tag_password_required.title')}</h3>\n            <input className={'FormControl' + (this.invalid ? ' invalid' : '')} bidi={this.password} disabled={this.loading} />\n          </div>\n          <Button type=\"submit\" className=\"Button Button--primary\" loading={this.loading}>\n            {app.translator.trans('datlechin-tag-passwords.forum.tag_password_required.button_submit')}\n          </Button>\n        </form>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n    this.invalid = false;\n\n    app\n      .request({\n        url: app.forum.attribute('apiUrl') + '/datlechin/tag-passwords/auth',\n        method: 'POST',\n        body: {\n          data: {\n            id: this.tag.id(),\n            password: this.password,\n          },\n        },\n      })\n      .then((result) => {\n        this.tag.pushAttributes({ isUnlocked: true });\n        this.loading = false;\n        this.invalid = false;\n        m.redraw();\n      })\n      .catch((error) => {\n        this.invalid = true;\n        this.loading = false;\n      });\n  }\n}\n","import app from 'flarum/forum/app';\nimport Component from 'flarum/common/Component';\nimport Stream from 'flarum/common/utils/Stream';\nimport Button from 'flarum/common/components/Button';\n\nexport default class TagGroupRequired extends Component {\n  oninit(vnode) {\n    super.oninit(vnode);\n\n    this.loading = false;\n    this.invalid = false;\n\n    this.tag = this.attrs.currentTag;\n  }\n\n  view() {\n    return (\n      <div className=\"TagGroupRequired\">\n        <form onsubmit={this.onsubmit.bind(this)}>\n          <div className=\"Form-group\">\n            <h3>{app.translator.trans('datlechin-tag-passwords.forum.tag_group_required.title')}</h3>\n          </div>\n          <Button type=\"submit\" className=\"Button Button--primary\" loading={this.loading}>\n            {app.translator.trans('datlechin-tag-passwords.forum.tag_password_required.button_submit')}\n          </Button>\n        </form>\n      </div>\n    );\n  }\n\n  onsubmit(e) {\n    e.preventDefault();\n\n    this.loading = true;\n    this.invalid = false;\n\n    app\n      .request({\n        url: app.forum.attribute('apiUrl') + '/datlechin/tag-passwords/auth',\n        method: 'POST',\n        body: {\n          data: {\n            id: this.tag.id(),\n          },\n        },\n      })\n      .then((result) => {\n        this.tag.pushAttributes({ isUnlocked: true });\n        this.loading = false;\n        this.invalid = false;\n        m.redraw();\n      })\n      .catch((error) => {\n        this.invalid = true;\n        this.loading = false;\n      });\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionPage'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/DiscussionHero'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/helpers/listItems'];","import app from 'flarum/forum/app';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport DiscussionControls from 'flarum/utils/DiscussionControls';\nimport classList from 'flarum/common/utils/classList';\nimport Link from 'flarum/common/components/Link';\nimport Tooltip from 'flarum/common/components/Tooltip';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport avatar from 'flarum/common/helpers/avatar';\nimport icon from 'flarum/common/helpers/icon';\nimport tooltipForPermission from '../../common/helpers/tooltipForPermission';\nimport DiscussionHero from 'flarum/forum/components/DiscussionHero';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport listItems from 'flarum/common/helpers/listItems';\nimport tagsLabel from '../../common/helpers/tagsLabel';\n\nexport default class TagProtectedDiscussionHero extends DiscussionHero {\n  view() {\n    const discussion = this.attrs.discussion;\n    const tags = discussion.tags();\n    return (\n      <header className=\"Hero DiscussionHero\">\n        <div className=\"container\">\n          <ul className=\"DiscussionHero-items\">{listItems(this.items().toArray())}</ul>\n        </div>\n\n      </header>\n    );\n  }\n\n  /**\n   * Build an item list for the contents of the discussion hero.\n   *\n   * @return {ItemList<import('mithril').Children>}\n   */\n  items() {\n    const items = new ItemList();\n    const discussion = this.attrs.discussion;\n    const tags = discussion.tags();\n\n    items.add('tags', tagsLabel(tags, {}, false));\n    const isProtectedPasswordTags = discussion.protectedPasswordTags().length > 0;\n    const isProtectedGroupPermissionTags = discussion.protectedGroupPermissionTags().length > 0;\n    let title = app.translator.trans('datlechin-tag-passwords.forum.discussion_page.title.multiple');\n    if (isProtectedPasswordTags && !isProtectedGroupPermissionTags) {\n      title = app.translator.trans('datlechin-tag-passwords.forum.discussion_page.title.password_protected');\n    } else if (!isProtectedPasswordTags && isProtectedGroupPermissionTags) {\n      title = app.translator.trans('datlechin-tag-passwords.forum.discussion_page.title.group_protected');\n    }\n    items.add('title', <h2 className=\"DiscussionHero-title\">{title}</h2>);\n    items.add('tags-protected', tagsLabel(tags, {link: true}, true, false));\n\n    return items;\n  }\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/states/PostStreamState'];","import app from 'flarum/forum/app';\nimport Tag from 'flarum/tags/models/Tag';\nimport Model from 'flarum/common/Model';\nimport Discussion from 'flarum/common/models/Discussion';\nimport Post from 'flarum/common/models/Post';\nimport editTagsPage from './editTagsPage';\nimport editPostsUserPage from './editPostsUserPage';\nimport editDiscussionList from './editDiscussionList';\nimport editIndexPage from './editIndexPage';\nimport editDiscussionPage from './editDiscussionPage';\n\napp.initializers.add('datlechin/flarum-tag-passwords', () => {\n  Post.prototype.isUnlocked = Model.attribute('isUnlocked');\n  Tag.prototype.isPasswordProtected = Model.attribute('isPasswordProtected');\n  Tag.prototype.isGroupProtected = Model.attribute('isGroupProtected');\n  Tag.prototype.isUnlocked = Model.attribute('isUnlocked');\n  Tag.prototype.password = Model.attribute('password');\n  Tag.prototype.isLockedIconDisplayed = Model.attribute('isLockedIconDisplayed');\n  Tag.prototype.isProtectedTagDisplayedForSidebar = Model.attribute('isProtectedTagDisplayedForSidebar');\n  Tag.prototype.isProtectedTagDisplayedForTagsPage = Model.attribute('isProtectedTagDisplayedForTagsPage');\n  Discussion.prototype.protectedPasswordTags = Model.attribute('protectedPasswordTags');\n  Discussion.prototype.protectedGroupPermissionTags = Model.attribute('protectedGroupPermissionTags');\n  Discussion.prototype.numberOfProtectedTags = Model.attribute('numberOfProtectedTags');\n  Discussion.prototype.isProtectedTagDisplayedForDiscussionList = Model.attribute('isProtectedTagDisplayedForDiscussionList');\n  Discussion.prototype.isProtectedTagDisplayedForDiscussionAvator = Model.attribute('isProtectedTagDisplayedForDiscussionAvator');\n  Discussion.prototype.isProtectedTagDisplayedForPostList = Model.attribute('isProtectedTagDisplayedForPostList');\n  Discussion.prototype.isProtectedTagDisplayedForDiscussionPage = Model.attribute('isProtectedTagDisplayedForDiscussionPage');\n  editDiscussionList();\n  editTagsPage();\n  editPostsUserPage();\n  editIndexPage();\n  editDiscussionPage();\n});","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport classList from 'flarum/common/utils/classList';\nimport DiscussionList from 'flarum/forum/components/DiscussionList';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Placeholder from 'flarum/common/components/Placeholder';\nimport TagProtectedDiscussionListItem from './components/TagProtectedDiscussionListItem';\n\nexport default function () {\n  function processDiscussionListItem(discussion, pageNum, pageSize, itemNum, params) {\n    if (discussion.numberOfProtectedTags() > 0) {\n      return <li key={0} data-id={0} role=\"article\" aria-setsize=\"-1\" aria-posinset={pageNum * pageSize + itemNum}>\n        <TagProtectedDiscussionListItem discussion={discussion} params={params} />\n      </li>\n    } else {\n      return <li key={discussion.id()} data-id={discussion.id()} role=\"article\" aria-setsize=\"-1\" aria-posinset={pageNum * pageSize + itemNum}>\n        <DiscussionListItem discussion={discussion} params={params} />\n      </li>\n    }\n  }\n\n  function extendDiscussionListView() {\n    /**\n     * @type {import('flarum/forum/states/DiscussionListState').default}\n     */\n    const state = this.attrs.state;\n\n    const params = state.getParams();\n    const isLoading = state.isInitialLoading() || state.isLoadingNext();\n\n    let loading;\n\n    if (isLoading) {\n      loading = <LoadingIndicator />;\n    } else if (state.hasNext()) {\n      loading = (\n        <Button className=\"Button\" onclick={state.loadNext.bind(state)}>\n          {app.translator.trans('core.forum.discussion_list.load_more_button')}\n        </Button>\n      );\n    }\n\n    if (state.isEmpty()) {\n      const text = app.translator.trans('core.forum.discussion_list.empty_text');\n      return (\n        <div className=\"DiscussionList\">\n          <Placeholder text={text} />\n        </div>\n      );\n    }\n\n    const pageSize = state.pageSize;\n    return (\n      <div className={classList('DiscussionList', { 'DiscussionList--searchResults': state.isSearchResults() })}>\n        <ul role=\"feed\" aria-busy={isLoading} className=\"DiscussionList-discussions\">\n          {state.getPages().map((pg, pageNum) => {\n            return pg.items.map((discussion, itemNum) => (\n              processDiscussionListItem(discussion, pageNum, pageSize, itemNum, params)\n            ));\n          })}\n        </ul>\n        <div className=\"DiscussionList-loadMore\">{loading}</div>\n      </div>\n    );\n  }\n\n  override(DiscussionList.prototype, 'view', extendDiscussionListView);\n};","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport Tag from 'flarum/tags/models/Tag';\nimport TagLinkButton from 'flarum/tags/components/TagLinkButton';\nimport icon from 'flarum/common/helpers/icon';\nimport TagsPage from 'flarum/tags/components/TagsPage';\nimport tagIcon from 'flarum/tags/common/helpers/tagIcon';\nimport sortTags from 'flarum/tags/common/utils/sortTags';\nimport classList from 'flarum/common/utils/classList';\nimport textContrastClass from 'flarum/common/helpers/textContrastClass';\nimport Link from 'flarum/common/components/Link';\nimport humanTime from 'flarum/common/helpers/humanTime';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport tagLabel from '../common/helpers/tagLabel';\n\nexport default function () {\n  function amendViewForTag(vdom, tag, isProtected, lockIcon) {\n    if (isProtected) {\n      if (tag.isUnlocked()) {\n        if (tag.isLockedIconDisplayed()) {\n          vdom.children.push(icon('fas fa-unlock'));\n        }\n      } else if (tag.isProtectedTagDisplayedForSidebar()) {\n        vdom.children.push(lockIcon);\n      } else {\n        vdom.attrs.className += ' hiddenTag';\n      }\n    }\n  }\n\n  function amendTagTileHeading(tag) {\n    if (tag.isGroupProtected() && !tag.isUnlocked()) {\n      return <div class=\"TagsPageGroupProtection\"></div>;\n    } else if (tag.isPasswordProtected() && !tag.isUnlocked()) {\n      return <div class=\"TagsPagePasswordProtection\"></div>;\n    } else {\n      return <></>;\n    }\n  }\n\n  function amendTagTileLastPostedDiscussion(tag) {\n    if (tag.isGroupProtected() && !tag.isUnlocked()) {\n      return <div>\n        {icon('fas fa-user-lock')} {app.translator.trans('datlechin-tag-passwords.forum.tags_page.group_protected')}\n      </div>\n    } else if (tag.isPasswordProtected() && !tag.isUnlocked()) {\n      return <div>\n        {icon('fas fa-lock')} {app.translator.trans('datlechin-tag-passwords.forum.tags_page.password_protected')}\n      </div>\n    } else {\n      const lastPostedDiscussion = tag.lastPostedDiscussion();\n      if (lastPostedDiscussion) {\n        if (lastPostedDiscussion.numberOfProtectedTags() > 0) {\n          const protectedPasswordTags = lastPostedDiscussion.protectedPasswordTags();\n          const isProtectedPasswordTags = protectedPasswordTags.length > 0;\n          const protectedGroupPermissionTags = lastPostedDiscussion.protectedGroupPermissionTags();\n          const isProtectedGroupPermissionTags = protectedGroupPermissionTags.length > 0;\n\n          const protectedTags = protectedPasswordTags.concat(protectedGroupPermissionTags);\n          return <Link className=\"TagTile-lastPostedDiscussion\" href={\"/t/\"+protectedTags[0].slug}>\n            <span className=\"TagTile-lastPostedDiscussion-title\">\n              {isProtectedGroupPermissionTags? icon('fas fa-user-lock'): <></>}\n              {isProtectedPasswordTags? icon('fas fa-lock'): <></>}\n              {isProtectedGroupPermissionTags && isProtectedPasswordTags? app.translator.trans('datlechin-tag-passwords.forum.tags_page.discussion.multiple') : (isProtectedGroupPermissionTags ? app.translator.trans('datlechin-tag-passwords.forum.tags_page.discussion.group_protected'): app.translator.trans('datlechin-tag-passwords.forum.tags_page.discussion.password_protected'))}\n            </span>\n            {humanTime(lastPostedDiscussion.lastPostedAt())}\n          </Link>\n        } else {\n          return <Link className=\"TagTile-lastPostedDiscussion\" href={app.route.discussion(lastPostedDiscussion, lastPostedDiscussion.lastPostNumber())}>\n            <span className=\"TagTile-lastPostedDiscussion-title\">{lastPostedDiscussion.title()}</span>\n            {humanTime(lastPostedDiscussion.lastPostedAt())}\n          </Link>\n        }\n      } else {\n        return <span className=\"TagTile-lastPostedDiscussion\" />\n      }\n    }\n  }\n\n  /**\n   * Used for amend the Tags Page footer of secondary tags\n   * @param {*} cloud \n   * @returns \n   */\n  function processCloudView(cloud) {\n    return <div className=\"TagCloud\">{cloud.map((tag) => [tagLabel(tag, { link: true }, tag.isProtectedTagDisplayedForTagsPage()), ' '])}</div>;\n  }\n\n  extend(TagLinkButton.prototype, 'view', function (vdom) {\n    const tag = this.attrs.model;\n    amendViewForTag(vdom, tag, tag.isPasswordProtected(), icon('fas fa-lock'));\n    amendViewForTag(vdom, tag, tag.isGroupProtected(), icon('fas fa-user-lock'));\n  });\n\n  override(TagsPage.prototype, 'tagTileView', function (original, ...args) {\n    if (args.length > 0 && args[0] instanceof Tag) {\n      const tag = args[0];\n      if (tag.isUnlocked() || (!tag.isGroupProtected() && !tag.isPasswordProtected()) || tag.isProtectedTagDisplayedForTagsPage()) {\n        const children = sortTags(tag.children() || []);\n\n        return (\n          <li className={classList('TagTile', { colored: tag.color() }, textContrastClass(tag.color()))} style={{ '--tag-bg': tag.color() }}>\n            <Link className=\"TagTile-info\" href={app.route.tag(tag)}>\n              {tag.icon() && tagIcon(tag, {}, { useColor: false })}\n              {amendTagTileHeading(tag)}\n              <h3 className=\"TagTile-name\">{tag.name()}</h3>\n\n              <p className=\"TagTile-description\">{tag.description()}</p>\n              {!!children && (\n                <div className=\"TagTile-children\">{children.map((child) => {\n                  let iconObject = null;\n                  if (child.isPasswordProtected()) {\n                    if (child.isUnlocked()) {\n                      if (child.isLockedIconDisplayed()) {\n                        iconObject = icon('fas fa-unlock', {style: {fontSize: '13px', float: 'none'}});\n                      }\n                    } else if (child.isProtectedTagDisplayedForTagsPage()) {\n                      iconObject = icon('fas fa-lock', {style: {fontSize: '13px', float: 'none'}});\n                    } else {\n                      return <></>;\n                    }\n                  }\n                  if (child.isGroupProtected()) {\n                    if (child.isUnlocked()) {\n                      if (child.isLockedIconDisplayed()) {\n                        iconObject = icon('fas fa-unlock', {style: {fontSize: '13px', float: 'none'}});\n                      }\n                    } else if (child.isProtectedTagDisplayedForTagsPage()) {\n                      iconObject = icon('fas fa-user-lock', {style: {fontSize: '13px', float: 'none'}});\n                    } else {\n                      return <></>;\n                    }\n                  }\n\n                  return [<Link href={app.route.tag(child)}>{child.name()} { iconObject}</Link>, ' ']\n                })}</div>\n              )}\n            </Link>\n\n            <span className=\"TagTile-lastPostedDiscussion\">\n              {amendTagTileLastPostedDiscussion(tag)}\n            </span>\n          </li>\n        );\n      } else {\n        return '';\n      }\n    } else {\n      return original(...args);\n    }\n  });\n\n  override(TagsPage.prototype, 'contentItems', function () {\n    const items = new ItemList();\n\n    if (this.loading) {\n      items.add('loading', <LoadingIndicator />);\n    } else {\n      const pinned = this.tags.filter((tag) => tag.position() !== null);\n      const cloud = this.tags.filter((tag) => tag.position() === null);\n\n      items.add('tagTiles', this.tagTileListView(pinned), 100);\n\n      if (cloud.length) {\n        items.add('cloud', processCloudView(cloud), 10);\n      }\n    }\n\n    return items;\n  });\n};","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport Tag from 'flarum/tags/models/Tag';\nimport Link from 'flarum/common/components/Link';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Placeholder from 'flarum/common/components/Placeholder';\nimport PostsUserPage from 'flarum/forum/components/PostsUserPage';\nimport CommentPost from 'flarum/forum/components/CommentPost';\nimport ProtectedTag from '../common/models/ProtectedTag';\nimport tooltipForPermission from '../common/helpers/tooltipForPermission';\n\nfunction provideTooltip (discussion, isProtectedPasswordTags, isProtectedGroupPermissionTags, tags) {\n  let title = app.translator.trans('datlechin-tag-passwords.forum.post_list.title.multiple');\n  let info = app.translator.trans('datlechin-tag-passwords.forum.post_list.info.multiple');\n  if (isProtectedPasswordTags && !isProtectedGroupPermissionTags) {\n    title = app.translator.trans('datlechin-tag-passwords.forum.post_list.title.password_protected');\n    info = app.translator.trans('datlechin-tag-passwords.forum.post_list.info.password_protected');\n  } else if (!isProtectedPasswordTags && isProtectedGroupPermissionTags) {\n    title = app.translator.trans('datlechin-tag-passwords.forum.post_list.title.group_protected');\n    info = app.translator.trans('datlechin-tag-passwords.forum.post_list.info.group_protected');\n  }\n  return tooltipForPermission(discussion, title, info, isProtectedPasswordTags, isProtectedGroupPermissionTags, tags)\n}\n\nexport default function () {\n  function processProtectedTagsForPost(protectedTags,) {\n    let collection = [];\n    for (let i = 0; i < protectedTags.length; i++) {\n      let foundTag = new ProtectedTag();\n      foundTag.pushAttributes(protectedTags[i]);\n      collection.push(foundTag);\n    }\n    return collection;\n  }\n\n  function extendPostsUserPageContent() {\n    if (this.posts.length === 0 && !this.loading) {\n      return (\n        <div className=\"PostsUserPage\">\n          <Placeholder text={app.translator.trans('core.forum.user.posts_empty_text')} />\n        </div>\n      );\n    }\n\n    let footer;\n\n    if (this.loading) {\n      footer = <LoadingIndicator />;\n    } else if (this.moreResults) {\n      footer = (\n        <div className=\"PostsUserPage-loadMore\">\n          <Button className=\"Button\" onclick={this.loadMore.bind(this)}>\n            {app.translator.trans('core.forum.user.posts_load_more_button')}\n          </Button>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"PostsUserPage\">\n        <ul className=\"PostsUserPage-list\">\n          {this.posts.map((post) => {\n            const discussion = post.discussion();\n            if (discussion.numberOfProtectedTags() > 0) {\n              if (discussion.isProtectedTagDisplayedForPostList()) {\n                const tags = processProtectedTagsForPost(discussion.protectedPasswordTags().concat(discussion.protectedGroupPermissionTags()));\n\n                const isProtectedPasswordTags = discussion.protectedPasswordTags().length > 0;\n                const isProtectedGroupPermissionTags = discussion.protectedGroupPermissionTags().length > 0;\n                return (\n                  <li>\n                      {provideTooltip(discussion, isProtectedPasswordTags, isProtectedGroupPermissionTags, tags)}\n                  </li>\n                )\n              } else {\n                return <></>\n              }\n            } else {\n              return (\n                <li>\n                  <div className=\"PostsUserPage-discussion\">\n                    {app.translator.trans('core.forum.user.in_discussion_text', {\n                      discussion: <Link href={app.route.post(post)}>{discussion.title()}</Link>,\n                    })}\n                  </div>\n\n                  <CommentPost post={post} />\n                </li>\n              )\n            }\n        })}\n        </ul>\n        <div className=\"PostsUserPage-loadMore\">{footer}</div>\n      </div>\n    );\n  }\n  override(PostsUserPage.prototype, 'content', extendPostsUserPageContent);\n};","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport IndexPage from 'flarum/forum/components/IndexPage';\nimport TagPasswordRequired from './components/TagPasswordRequired';\nimport TagGroupRequired from './components/TagGroupRequired';\n\nexport default function () {\n  /*\n  * Used for finding the correct location to replace the main DiscussionList with protection section\n  */\n  function findDiscussionList(vdom, classNames, classNameIndex, replaceChild) {\n    vdom.children.forEach((child) => {\n      if (child.attrs.className && child.attrs.className.indexOf(classNames[classNameIndex]) !== -1) {\n        classNameIndex += 1;\n        if (classNameIndex == classNames.length) {\n          // Found the final contrainer that has DisussionList, this need to be replaced\n          child.children = replaceChild;\n          return; // Stop loop\n        }\n        return findDiscussionList(child, classNames, classNameIndex, replaceChild);\n      }\n    });\n  }\n\n  extend(IndexPage.prototype, 'view', function (vdom) {\n    const tag = this.currentTag();\n    if (tag && !tag.isUnlocked()) {\n      if (tag.isGroupProtected()) {\n        findDiscussionList(vdom, ['container','sideNavContainer','IndexPage-results'], 0, [TagGroupRequired.component({ currentTag: tag })]);\n      } else if (tag.isPasswordProtected()) {\n        findDiscussionList(vdom, ['container','sideNavContainer','IndexPage-results'], 0, [TagPasswordRequired.component({ currentTag: tag })]);\n      }\n    }\n  });\n};","import app from 'flarum/forum/app';\nimport { extend, override } from 'flarum/common/extend';\nimport type Mithril from 'mithril';\nimport DiscussionPage from 'flarum/forum/components/DiscussionPage';\nimport Discussion from 'flarum/common/models/Discussion';\nimport Post from 'flarum/common/models/Post';\nimport ItemList from 'flarum/common/utils/ItemList';\nimport classList from 'flarum/common/utils/classList';\nimport DiscussionList from 'flarum/forum/components/DiscussionList';\nimport DiscussionListItem from 'flarum/forum/components/DiscussionListItem';\nimport Button from 'flarum/common/components/Button';\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\nimport Placeholder from 'flarum/common/components/Placeholder';\nimport TagProtectedDiscussionListItem from './components/TagProtectedDiscussionListItem';\nimport TagProtectedDiscussionHero from './components/TagProtectedDiscussionHero';\nimport DiscussionHero from 'flarum/forum/components/DiscussionHero';\nimport PostStreamState from 'flarum/forum/states/PostStreamState';\nimport { ApiResponseSingle } from 'flarum/common/Store';\n\nexport default function () {\n  function extendDiscussionPageLoad() {\n    const preloadedDiscussion = app.preloadedApiDocument<Discussion>();\n    if (preloadedDiscussion) {\n      // We must wrap this in a setTimeout because if we are mounting this\n      // component for the first time on page load, then any calls to m.redraw\n      // will be ineffective and thus any configs (scroll code) will be run\n      // before stuff is drawn to the page.\n      setTimeout(show.bind(this, preloadedDiscussion), 0);\n    } else {\n      const params = this.requestParams();\n\n      app.store.find<Discussion>('discussions', m.route.param('id'), params).then(\n        show.bind(this)\n      );\n    }\n    m.redraw();\n  }\n\n  /**\n   * List of items rendered as the main page content.\n   */\n  function extendDiscussionPagePageContent(): ItemList<Mithril.Children> {\n    const items = new ItemList<Mithril.Children>();\n    items.add('hero', this.hero(), 100);\n    if (this.discussion.isProtectedTagDisplayedForDiscussionPage()) {\n      items.add('main', <div className=\"container\">{this.mainContent().toArray()}</div>, 10);\n    }\n    return items;\n  }\n\n  /**\n   * Initialize the component to display the given discussion.\n   */\n  function show(discussion: ApiResponseSingle<Discussion>): void {\n    app.setTitleCount(0);\n    if(discussion.isProtectedTagDisplayedForDiscussionPage()) {\n      app.history.push('discussion', discussion.title());\n      app.setTitle(discussion.title());\n      // When the API responds with a discussion, it will also include a number of\n      // posts. Some of these posts are included because they are on the first\n      // page of posts we want to display (determined by the `near` parameter) \n      // others may be included because due to other relationships introduced by\n      // extensions. We need to distinguish the two so we don't end up displaying\n      // the wrong posts. We do so by filtering out the posts that don't have\n      // the 'discussion' relationship linked, then sorting and splicing.\n      let includedPosts: Post[] = [];\n      if (discussion.payload && discussion.payload.included) {\n        const discussionId = discussion.id();\n\n        includedPosts = discussion.payload.included\n          .filter(\n            (record) =>\n              record.type === 'posts' &&\n              record.relationships &&\n              record.relationships.discussion &&\n              !Array.isArray(record.relationships.discussion.data) &&\n              record.relationships.discussion.data.id === discussionId\n          )\n          // We can make this assertion because posts should be in the store,\n          // since they were in the discussion's payload.\n          .map((record) => app.store.getById<Post>('posts', record.id) as Post)\n          .sort((a: Post, b: Post) => a.number() - b.number())\n          .slice(0, 20);\n      }\n\n      // Set up the post stream for this discussion, along with the first page of\n      // posts we want to display. Tell the stream to scroll down and highlight\n      // the specific post that was routed to.\n      this.stream = new PostStreamState(discussion, includedPosts);\n      const rawNearParam = m.route.param('near');\n      const nearParam = rawNearParam === 'reply' ? 'reply' : parseInt(rawNearParam);\n      this.stream.goToNumber(nearParam || (includedPosts[0]?.number() ?? 0), true).then(() => {\n        this.discussion = discussion;\n\n        app.current.set('discussion', discussion);\n        app.current.set('stream', this.stream);\n      });\n    } else {\n      app.history.push('discussion', \"test\");\n      app.setTitle(\"test\");\n      this.stream = new PostStreamState(discussion, []);\n      const rawNearParam = m.route.param('near');\n      const nearParam = rawNearParam === 'reply' ? 'reply' : parseInt(rawNearParam);\n      this.stream.goToNumber(nearParam || 0, true).then(() => {\n        this.discussion = discussion;\n\n        app.current.set('discussion', discussion);\n        app.current.set('stream', this.stream);\n      });\n    }\n  }\n  function refreshWithDiscussion(discussion, includedPosts) {\n    this.stream = new PostStreamState(discussion, includedPosts);\n    const rawNearParam = m.route.param('near');\n    const nearParam = rawNearParam === 'reply' ? 'reply' : parseInt(rawNearParam);\n    this.stream.goToNumber(nearParam || (includedPosts[0]?.number() ?? 0), true).then(() => {\n      this.discussion = discussion;\n\n      app.current.set('discussion', discussion);\n      app.current.set('stream', this.stream);\n    });\n  }\n  override(DiscussionPage.prototype, 'pageContent', extendDiscussionPagePageContent);\n\n  override(DiscussionPage.prototype, 'hero', function () {\n    if (this.discussion.isProtectedTagDisplayedForDiscussionPage()) {\n      return <DiscussionHero discussion={this.discussion} />;\n    } else {\n      return <TagProtectedDiscussionHero discussion={this.discussion} />;\n    }\n  });\n\n  override(DiscussionPage.prototype, 'load', extendDiscussionPageLoad);\n};"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","tagLabel","tag","attrs","showProtectedDisplayed","isNonProtectedDisplayed","style","className","link","extract","tagText","name","app","translator","trans","color","classList","textContrastClass","title","description","href","route","tags","slug","isChild","iconObject","isPasswordProtected","isGroupProtected","isUnlocked","m","'['","isLockedIconDisplayed","icon","fontSize","float","Link","tagIcon","useColor","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_inheritsLoose","subClass","superClass","create","constructor","ProtectedTag","_Tag","apply","arguments","_proto","Model","this","Tag","tagsLabel","isProtectedDisplayed","children","_attrs","otherAttrs","source","excluded","i","target","sourceKeys","keys","length","indexOf","_objectWithoutPropertiesLoose","_excluded","sortTags","forEach","push","tooltipForPermission","discussion","tooltip","Tooltip","text","position","class","TagProtectedDiscussionListItem","_DiscussionListItem","view","DiscussionControls","toArray","elementAttrs","isProtectedTagDisplayedForDiscussionList","contentView","processCloudView","cloud","map","isProtectedTagDisplayedForTagsPage","isUnread","isRead","unread","read","authorAvatarView","badgesView","mainView","replyCountItem","isProtectedPasswordTags","getJumpTo","protectedPasswordTags","isProtectedGroupPermissionTags","protectedGroupPermissionTags","info","isProtectedTagDisplayedForDiscussionAvator","user","ago","humanTime","createdAt","avatar","loading","DiscussionListItem","TagPasswordRequired","_Component","oninit","vnode","password","Stream","invalid","currentTag","onsubmit","bidi","disabled","Button","type","e","_this","preventDefault","url","attribute","method","body","data","id","then","result","pushAttributes","redraw","error","Component","TagGroupRequired","TagProtectedDiscussionHero","_DiscussionHero","listItems","items","ItemList","add","DiscussionHero","Post","isProtectedTagDisplayedForSidebar","Discussion","numberOfProtectedTags","isProtectedTagDisplayedForPostList","isProtectedTagDisplayedForDiscussionPage","override","DiscussionList","state","params","getParams","isLoading","isInitialLoading","isLoadingNext","LoadingIndicator","hasNext","onclick","loadNext","isEmpty","Placeholder","pageSize","isSearchResults","role","getPages","pg","pageNum","itemNum","processDiscussionListItem","amendViewForTag","vdom","isProtected","lockIcon","extend","TagLinkButton","model","TagsPage","original","_len","args","Array","_key","colored","amendTagTileHeading","child","lastPostedDiscussion","protectedTags","concat","lastPostedAt","lastPostNumber","amendTagTileLastPostedDiscussion","pinned","filter","tagTileListView","editTagsPage","PostsUserPage","posts","footer","moreResults","loadMore","post","collection","foundTag","processProtectedTagsForPost","provideTooltip","CommentPost","findDiscussionList","classNames","classNameIndex","replaceChild","IndexPage","component","editIndexPage","show","_includedPosts$0$numb","_includedPosts$","includedPosts","payload","included","discussionId","record","relationships","isArray","getById","sort","b","number","slice","stream","PostStreamState","rawNearParam","param","nearParam","parseInt","goToNumber","set","DiscussionPage","hero","mainContent","preloadedDiscussion","setTimeout","requestParams","find","editDiscussionPage"],"sourceRoot":""}